<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>John Doe - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><bodyId class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Mortago</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-T13-2/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>John Doe - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-addressbook-level-3"><a class="link" href="#project-addressbook-level-3">PROJECT: AddressBook - Level 3</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>AddressBook - Level 3 is a desktop address book application used for teaching Software Engineering principles. The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 10 kLoC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>the ability to undo/redo previous commands</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to undo all previous commands one at a time. Preceding undo commands can be reversed by using the redo command.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a user can make mistakes in commands and the app should provide a convenient way to rectify them.</p>
</li>
<li>
<p>Highlights: This enhancement affects existing commands and commands to be added in future. It required an in-depth analysis of design alternatives. The implementation too was challenging as it required changes to existing commands.</p>
</li>
<li>
<p>Credits: <em>{mention here if you reused any code/ideas from elsewhere or if a third-party library is heavily used in the feature so that a reader can make a more accurate judgement of how much effort went into the feature}</em></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: added a history command that allows the user to navigate to previous commands using up/down keys.</p>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com">Functional code</a>] [<a href="https://github.com">Test code</a>] <em>{give links to collated code files}</em></p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.3</code> - <code>v1.5rc</code> (3 releases) on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Updated the GUI color scheme (Pull requests <a href="https://github.com">#33</a>, <a href="https://github.com">#34</a>)</p>
</li>
<li>
<p>Wrote additional tests for existing features to increase coverage from 88% to 92% (Pull requests <a href="https://github.com">#36</a>, <a href="https://github.com">#38</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Did cosmetic tweaks to existing contents of the User Guide: <a href="https://github.com">#14</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments): <a href="https://github.com">#12</a>, <a href="https://github.com">#32</a>, <a href="https://github.com">#19</a>, <a href="https://github.com">#42</a></p>
</li>
<li>
<p>Contributed to forum discussions (examples:  <a href="https://github.com">1</a>, <a href="https://github.com">2</a>, <a href="https://github.com">3</a>, <a href="https://github.com">4</a>)</p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com">1</a>, <a href="https://github.com">2</a>, <a href="https://github.com">3</a>)</p>
</li>
<li>
<p>Some parts of the history feature I added was adopted by several other class mates (<a href="https://github.com">1</a>, <a href="https://github.com">2</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated a third party library (Natty) to the project (<a href="https://github.com">#42</a>)</p>
</li>
<li>
<p>Integrated a new Github plugin (CircleCI) to the team repo</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>{you can add/remove categories in the list above}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="delete"><a class="link" href="#delete">Deleting an entry : <code>delete</code><br></a></h4>
<div class="paragraph">
<p>You can delete a body, worker or fridge entry, using its Identification Number by entering a delete command with the
given format below.<br></p>
</div>
<div class="paragraph">
<p>Format: <code>delete -FLAG  id</code></p>
</div>
<div class="paragraph">
<p>You only need to enter the numeric value of the Identification Number while ignoring the prefixed 0s. For example, if
you want to delete a <code>Fridge</code> with id <code>F01</code>, you need to only enter <code>delete -f 1</code>.</p>
</div>
<div class="paragraph">
<p>When you delete a <code>Body</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mortago automatically deletes its associated <code>Notifs</code>. You can learn more
about <code>Notifs</code> in <a href="#notifs">Section 3.2.1</a>.</p>
</li>
<li>
<p>If you had assigned a <code>Fridge</code> to this <code>Body</code>, Mortago automatically sets the status of the <code>Fridge</code> to
<code>UNOCCUPIED</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You cannot delete a <code>Fridge</code> with status <code>OCCUPIED</code>. To still proceed with deletion, you need to either delete the
<code>Body</code> or assign it to another <code>Fridge</code>.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>Imagine that you added someone (Jim Kerr) by mistake and you want to remove his details from Mortago. You see that his
ID number is W00003.</p>
</div>
<div class="paragraph">
<p>To delete his record:</p>
</div>
<div class="paragraph">
<p>1) Type <code>delete -w 3</code> and press <code>ENTER</code> to execute it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteStep1.png" alt="DeleteStep1">
</div>
</div>
<div class="paragraph">
<p>2) The result box displays the message as shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteStep2.png" alt="DeleteStep2">
</div>
</div>
<div class="paragraph">
<p>3) And you can check that Jim Kerr is no longer in the list of workers.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DeleteStep3.png" alt="DeleteStep3" width="500">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">Undo/Redo Feature</a></h3>
<div class="paragraph">
<p>The undo/redo feature allows you to undo a command that you have made or redo a command you have undone.</p>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>You can find the core of undo/redo in the undo/redo history of <code>ModelManager</code>.
The history stores <code>UndoableCommands</code>, and an <code>UndoCommand</code> or <code>RedoCommand</code> will <code>undo()</code> or <code>redo()</code> commands in the history.
The design of <code>UndoableCommand</code> uses the Command pattern, a common design pattern often used in software engineering.
It allows each individual command to be undone/redone at a high-level without needing the specific command type to be known.
Classes related to undo/redo and their relationships are shown in Figure 11.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoClassDiagram.png" alt="UndoClassDiagram">
</div>
<div class="title">Figure 1. Class Diagram Showing the Architecture of Undo/Redo</div>
</div>
<div class="sect4">
<h5 id="architecture"><a class="link" href="#architecture">Architecture</a></h5>
<div class="paragraph">
<p>To start off, you will find two instances of <code>CommandHistory</code> in <code>ModelManager</code>. They are  stored internally as <code>commandHistory</code> and <code>undoHistory</code>.
<code>commandHistory</code> stores previously executed commands while <code>undoHistory</code> stores previously undone commands.
<code>CommandHistory</code> wraps a <code>Deque&lt;UndoableCommand&gt;</code>. Its methods imposes a <code>MAX_SIZE</code> which determines how many commands can be stored in the command history.</p>
</div>
<div class="paragraph">
<p>In <code>ModelManager</code>, four key operations to access and modify <code>CommandHistory</code> are implemented:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ModelManager#addExecutedCommand(UndoableCommand command)</code>&#8201;&#8212;&#8201;Adds a command that was executed to the start of <code>commandHistory</code>.</p>
</li>
<li>
<p><code>ModelManager#getExecutedCommand()</code>&#8201;&#8212;&#8201;Removes the last command that was executed and added to <code>commandHistory</code> and returns it.</p>
</li>
<li>
<p><code>ModelManager#addUndoneCommand(UndoableCommand command)</code>&#8201;&#8212;&#8201;Adds a command that was undone to the start of <code>undoHistory</code>.</p>
</li>
<li>
<p><code>ModelManager#getUndoneCommand()</code>&#8201;&#8212;&#8201;Removes the last command that was undone and added to <code>undoHistory</code> and returns it.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the <code>Model</code> interface implemented by <code>ModelManager</code>, these four operations are respectively exposed as
<code>Model#addExecutedCommand(UndoableCommand command)</code>, <code>Model#getExecutedCommand()</code>, <code>Model#addUndoneCommand(UndoableCommand command)</code>, and <code>Model#getUndoneCommand()</code>.</p>
</div>
<div class="paragraph">
<p>Next, the <code>UndoableCommand</code> stored in the <code>Model</code> is actually a normal <code>Command</code> that changes program state.
The <code>UndoableCommand</code> class is an abstract class that extends the abstract <code>Command</code> class, as shown in Figure 11. Commands like <code>AddCommand</code> or <code>UpdateCommand</code> extends <code>UndoableCommand</code> instead of <code>Command</code>.
Commands that don&#8217;t change the user-visible program state, like <code>FindCommand</code>, can still inherit directly from <code>Command</code>.</p>
</div>
<div class="paragraph">
<p>Here is where the Command pattern comes in. A class extending <code>UndoableCommand</code> must implement an additional method, <code>UndoableCommand#undo(Model model)</code>. This means that every child class of <code>UndoableCommand</code> has a custom <code>undo</code> implementation.</p>
</div>
<div class="paragraph">
<p><code>UndoableCommand#redo(Model model)</code> is a concrete implementation of the <code>redo</code> mechanism and is inherited by all child classes.</p>
</div>
<div class="paragraph">
<p>Lastly, undo/redo is initiated when user input creates an <code>UndoCommand</code> or <code>RedoCommand</code>. When either of them are executed, they respectively get the last
executed or undone command from the <code>CommandHistory</code> in <code>ModelManager</code>. As the retrieved command is an instance of <code>UndoableCommand</code>, an attempt will be made to execute <code>UndoableCommand#undo(Model model)</code> or <code>UndoableCommand#redo(Model model)</code>.
If it is successful, undo/redo is succesful. Otherwise, an error message is shown.</p>
</div>
<div class="paragraph">
<p>This is the mechanism of undo/redo, from start to end.</p>
</div>
<div class="paragraph">
<p>The sequence diagram below shows how an undo command works to undo a <code>ClearCommand</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoClearSequenceDiagram.png" alt="UndoClearSequenceDiagram">
</div>
<div class="title">Figure 2. Sequence Diagram Showing a ClearCommand Being Undone</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>UndoCommand</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If a <code>redo</code> command was executed afterwards, the <code>ClearCommand</code> would simply be executed again.</p>
</div>
<div class="paragraph">
<p>The following activity diagram shows what happens when a user executes a new <code>UndoableCommand</code>. In this case, it is the <code>ClearCommand</code> being undone. The control flow is similar for other <code>UndoableCommands</code>; they only differ in the implementation of <code>undo()</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CommandProcessActivityDiagram.png" alt="CommandProcessActivityDiagram">
</div>
<div class="title">Figure 3. Activity Diagram Showing the Execution Control Flow of a Command</div>
</div>
</div>
<div class="sect4">
<h5 id="defensive-programming"><a class="link" href="#defensive-programming">Defensive programming</a></h5>
<div class="paragraph">
<p>To defend against improper undoing or redoing, an <code>UndoableCommand</code> can only be added to the <code>commandHistory</code> or <code>undoHistory</code> of <code>ModelManager</code> through its <code>execute()</code> or <code>undo()</code> method.
Additionally, <code>UndoableCommand</code> contains a small inner class, the enumeration <code>UndoableCommandState</code> which allows an <code>UndoableCommand</code> to have its state set to any value in the enumeration.
The values are as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    /**
    * Enumerates through the possible states of an UndoableCommand.
    */
    public enum UndoableCommandState {
        UNDOABLE, REDOABLE, PRE_EXECUTION
    }</pre>
</div>
</div>
<div class="paragraph">
<p>Before a command is undone or redone, the command&#8217;s state is checked for validity. An example is shown below in the <code>redo()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    /**
     * Re-executes an UndoableCommand if it had been previously undone.
     */
    public CommandResult redo(Model model) throws CommandException {
        if (getCommandState() != UndoableCommandState.REDOABLE) {
            return new CommandResult(MESSAGE_NOT_UNDONE_BEFORE);
        }
        return execute(model);
    }</pre>
</div>
</div>
<div class="paragraph">
<p>As shown in the code snippet, when an <code>UndoableCommand</code> is redone, the method first checks that its state was set to <code>UNDOABLE</code>.
These states are only changed when a <code>Command#execute(Model model)</code> or <code>UndoableCommand#undo(Model model)</code> has successfully executed.
Therefore, it is unlikely that an <code>UndoableCommand</code> will be unwittingly undone or redone in error.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design considerations</a></h4>
<div class="paragraph">
<p>When designing the undo/redo feature, scalability and speed were the key considerations.
There was also an extra layer of difficulty as Mortago has automated commands that are both time-based and user-triggered.
After the analysis described below, the Command pattern was thought to be the best solution.</p>
</div>
<div class="sect4">
<h5 id="aspect-designing-the-undo-redo-mechanism"><a class="link" href="#aspect-designing-the-undo-redo-mechanism">Aspect: Designing the undo/redo mechanism</a></h5>
<div class="paragraph">
<p>Alternative 1 was chosen despite its difficult implementation because it is faster and more scalable.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1:</strong> Individual command knows how to undo/redo by itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Better scalability. Will use less memory (e.g. For <code>add</code>, only the added entity needs to be saved).</p>
</li>
<li>
<p>Faster for big programs.</p>
</li>
<li>
<p>Easier to implement defensive measures.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Must implement custom undo functions for each command.</p>
</li>
<li>
<p>More difficult to implement and maintain.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Saves the whole program state.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easy to implement and maintain.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Likely to use a lot of memory.</p>
</li>
<li>
<p>Slower for big programs.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-handling-automated-timed-commands"><a class="link" href="#aspect-handling-automated-timed-commands">Aspect: Handling automated timed commands</a></h5>
<div class="paragraph">
<p>Mortago has a Notification feature, which are user-triggered automated commands that are triggered by time.
Though the undo/redo feature does not support it directly, the Notification can make changes to
program state at any time. When undoing or redoing, it was essential that data integrity was preserved.</p>
</div>
<div class="paragraph">
<p>Alternative 1 was chosen as it causes almost no overhead, guarantees data integrity, and causes the user the least inconvenience.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative 1:</strong> Allow automated commands to be undone</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Causes minimal overhead as only one additional command needs to be stored.</p>
</li>
<li>
<p>Maintains data integrity.</p>
</li>
<li>
<p>Allows the user to undo automated changes, if it is not desired.</p>
</li>
<li>
<p>Shows consistency and will not cause visual jumps between states.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Confuses the user initially.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative 2:</strong> Do not undo the automated command</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Easiest to implement.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Confuses the user initially.</p>
</li>
<li>
<p>Causes visible jumps between states (e.g. The user might see changes to 2 fields being undone even though his <code>update</code> command only changed one field).</p>
</li>
<li>
<p>Loss of data integrity.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-storing-executed-undone-commands"><a class="link" href="#aspect-storing-executed-undone-commands">Aspect: Storing executed/undone commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Store <code>UndoableCommand</code>(s) only.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Logic can be reused for both executed and undone commands.</p>
</li>
<li>
<p>Easy to implement.</p>
</li>
<li>
<p>Uses less space.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Loses some information about <code>Commands</code> that were previously executed.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Store all <code>Commands</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>No loss of information.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Harder to implement. Requires differentiating between commands that have been undone and executed commands.</p>
</li>
<li>
<p>Needs extra space to store non-<code>UndoableCommand</code>(s) even though they are useless for undo/redo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proposed-data-encryption"><a class="link" href="#proposed-data-encryption">[Proposed] Data Encryption</a></h3>
<div class="paragraph">
<p><em>{Explain here how the data encryption feature will be implemented}</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-powerpointlabs"><a class="link" href="#project-powerpointlabs">PROJECT: PowerPointLabs</a></h2>
<div class="sectionbody">
<hr>
<div class="paragraph">
<p><em>{Optionally, you may include other projects in your portfolio.}</em></p>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 14:21:32 UTC</div></div></div></bodyId></html>